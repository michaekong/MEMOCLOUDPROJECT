// Script pour récupérer l'ID de l'utilisateur et remplir la modal avec ses données
$('#addUserModal').on('show.bs.modal', function (event) {
var button = $(event.relatedTarget);  // Le bouton qui a déclenché la modal
var userId = button.data('id');
  // Récupère l'ID de l'utilisateur
var modal = $(this);

// Remplir le champ caché avec l'ID de l'utilisateur
modal.find('#user_id').val(userId);

// Vous pouvez également remplir d'autres champs du formulaire si nécessaire
// Exemple :
modal.find('#nom').val(button.data('nom'));
modal.find('#prenom').val(button.data('prenom'));
modal.find('#email').val(button.data('email'));

modal.find('#sexe').val(button.data('sexe'));
modal.find('#type').val(button.data('type'));
modal.find('#realisation_linkedin').val(button.data('linkedin'));

});
$('#addUserForm').on('submit', function (event) {
    event.preventDefault();  // Empêche la soumission normale du formulaire

    var form = $(this);
    var formData = new FormData(form[0]);  // Récupérer les données du formulaire

    // Envoi du formulaire via Ajax
    $.ajax({
        url: form.attr('action'),  // URL de la vue qui traite le formulaire
        method: 'POST',
        data: formData,
        processData: false,  // Ne pas traiter les données
        contentType: false,  // Ne pas définir de content-type pour l'envoi des données
        success: function(response) {
            if (response.status === 'success') {
                // Fermer la modal
                $('#addUserModal').modal('hide');
                
                showTooltip("utilisateur modifier avec succès !", false,"ov3","tol3","mes3");
            } else {
                // Afficher un message d'erreur
                showTooltip("utilisateur supprimer avec succès !", false,"ov3","tol3","mes3");
            }
        },
        error: function() {
            // Gérer les erreurs réseau
        
<<<<<<< HEAD
            showTooltip("Une erreur est survenue. Veuillez réessayer.", true,"ov3","tol3","mes3");
        }
    });
});
=======
}
}
>>>>>>> 6a1e6e03 (Sauvegarde de mes modifications avant la fusion)
