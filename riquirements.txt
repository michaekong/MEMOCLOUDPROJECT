$('#edituniversityForm').on('submit', function(event) {
    event.preventDefault();  // Empêcher la soumission par défaut du formulaire

    var form = $(this);
    var formData = new FormData(form[0]);  // Récupérer les données du formulaire

    // Envoyer les données via Ajax
    $.ajax({
        url: form.attr('action'),  // URL de la vue pour modifier un mémoire
        method: 'POST',
        data: formData,
        processData: false,  // Ne pas traiter les données
        contentType: false,  // Ne pas définir de content-type
        success: function(response) {
            if (response.status === 'success') {
                // Fermer la modal de modification
                $('#edituniversityModal').modal('hide');

               
                
               
                    showTooltip("university modifier avec succès !", false,"ou","tou","meso");
            } else {
                showTooltip("university modifier avec succès !", false,"ou","tou","meso");
                 }
        },
        error: function() {
            
             showTooltip('Une erreur est survenue. Veuillez réessayer.', true,"ou","tou","meso");
        }
    });
});

// Remplir les champs du formulaire de modification lors de l'ouverture de la modal
$('#edituniversityModal').on('show.bs.modal', function(event) {
    var button = $(event.relatedTarget);  // Le bouton qui a déclenché la modal
    var universityId = button.data('id');  // Récupérer l'ID du mémoire
    var modal = $(this);

    // Remplir les champs du formulaire avec les données du mémoire
    modal.find('#university_id').val(universityId);
    modal.find('#nom').val(button.data('nom'));
    modal.find('#domaine').val(button.data('domaine'));
    modal.find('#annee_publication').val(button.data('annee_publication'));
    modal.find('#resume').val(button.data('resume'));
    modal.find('#lien_telecharger').val(button.data('lien_telecharger'));
});


    